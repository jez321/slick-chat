(this["webpackJsonpslick-chat"]=this["webpackJsonpslick-chat"]||[]).push([[0],{197:function(e,n,t){e.exports=t(390)},390:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(35),o=t.n(c),i=t(15),u=t(21),l=t(36),s=t(116),m=t.n(s),f=t(196),b={user:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_USER":return Object(f.a)({},e,{user:n.user});default:return e}},p=Object(l.b)({app:d,firebase:u.firebaseReducer});m.a.initializeApp({apiKey:"AIzaSyB3JgaM3c4n9ApVyPl3NZeRn8LYEjoTvHk",authDomain:"slick-chat-b8396.firebaseapp.com",databaseURL:"https://slick-chat-b8396.firebaseio.com",projectId:"slick-chat-b8396",storageBucket:"slick-chat-b8396.appspot.com",messagingSenderId:"644724896134"});var h=Object(l.c)(p),v={firebase:m.a,config:{userProfile:"users"},dispatch:h.dispatch},g=t(4),E=t(5);function j(){var e=Object(g.a)(["\n  html {\n    font-size: 62.5%; /* 1rem = 10px */\n    height: 100%;\n  }\n\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: 1.6rem;\n    height: 100%;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n\n  pre {\n    font-family: inherit;\n    margin: 0;\n    white-space: pre-wrap;\n    word-break: break-word;\n  }\n\n  textarea {\n    font-family: inherit;\n  }\n"]);return j=function(){return e},e}var y=Object(E.a)(j());function O(){var e=Object(g.a)(["\n  background-color: ",";\n  padding: 0.1rem 1rem;\n  color: ",";\n  font-size: ",";\n"]);return O=function(){return e},e}function x(){var e=Object(g.a)(["\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  justify-content: space-between;\n  height: 100%;\n"]);return x=function(){return e},e}var k=E.b.div(x()),w=E.b.footer(O(),"#282c34","#888","1.4rem"),S=t(76),z=t(194),R=t(37),F=t(38);function C(){var e=Object(g.a)([""]);return C=function(){return e},e}function B(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: stretch;\n  textarea {\n    resize: none;\n    font-size: ",";\n    min-height: 4rem;\n    margin: 0;\n    padding: 0.85rem 1rem;\n    flex: 1 0 0;\n  }\n"]);return B=function(){return e},e}function I(){var e=Object(g.a)(["\n  text-align: left;\n  width: 100%;\n"]);return I=function(){return e},e}E.b.section(I());var M=E.b.div(B(),"1.6rem"),U=E.b.section(C());function D(){var e=Object(g.a)(["\n  font-size: ",";\n  padding: 1rem 2rem;\n  background-color: #444;\n  border: none;\n  color: white;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  &:hover {\n    background-color: #555;\n  }\n  &:active {\n    background-color: #666;\n  }\n  &:disabled {\n    opacity: 0.6;\n  }\n"]);return D=function(){return e},e}var L,T=E.b.button(D(),"1.6rem"),N=function(e){return a.a.createElement(T,e)},A=function(e){return e.app.user},J=function(){var e=Object(u.useFirebase)(),n=Object(i.c)(A),t=Object(r.useState)(""),c=Object(S.a)(t,2),o=c[0],l=c[1],s=function(){var t,r={text:o,user:n,timestamp:(t=Date.now(),Math.floor(t/1e3))};l(""),L&&L.focus(),e.push("messages",r)};return a.a.createElement(U,null,a.a.createElement(M,null,a.a.createElement(z.a,{onKeyUp:function(e){""!==o.trim()&&"Enter"===e.key&&e.shiftKey&&s()},onChange:function(e){l(e.target.value)},value:o,maxRows:4,inputRef:function(e){return L=e},autoFocus:!0}),a.a.createElement(N,{style:{fontSize:"1.3rem",height:"4rem"},disabled:""===o.trim(),onClick:function(e){e.preventDefault(),s()}},a.a.createElement(R.a,{icon:F.a}),"\xa0\u9001\u4fe1")))};function K(){var e=Object(g.a)(["\n  margin-bottom: 1rem;\n"]);return K=function(){return e},e}function P(){var e=Object(g.a)(["\n  list-style-type: none;\n  padding-left: 0;\n  margin: 0;\n  height: 100%;\n"]);return P=function(){return e},e}function H(){var e=Object(g.a)(["\n  padding: 0 1rem;\n  display: flex;\n  justify-content: flex-end;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n"]);return H=function(){return e},e}var _=E.b.section(H()),V=E.b.ul(P()),Y=E.b.div(K()),Z=t(192),q=t.n(Z);function G(){var e=Object(g.a)(["\n  font-weight: normal;\n  color: ",";\n  font-size: ",";\n"]);return G=function(){return e},e}function Q(){var e=Object(g.a)(["\n  color: ",";\n"]);return Q=function(){return e},e}function W(){var e=Object(g.a)(["\n  font-weight: bold;\n"]);return W=function(){return e},e}function X(){var e=Object(g.a)(["\n  padding: 1rem 0;\n"]);return X=function(){return e},e}var $=E.b.li(X()),ee=E.b.header(W()),ne=E.b.span(Q(),(function(e){return e.color})),te=E.b.span(G(),"#888","1.4rem"),re=a.a.memo((function(e){var n=e.children,t=e.user,r=e.timestamp,c=e.color;return a.a.createElement($,null,a.a.createElement(ee,null,a.a.createElement(ne,{color:c},t),"\xa0",a.a.createElement(te,null,a.a.createElement(q.a,{locale:"ja",unix:!0,fromNow:!0},r))),a.a.createElement("pre",null,n))})),ae=t(193),ce=t(388),oe=function(e){return e.firebase.ordered.messages},ie=function(){Object(u.useFirebaseConnect)(["messages"]);var e=Object(i.c)(oe);Object(r.useEffect)((function(){ae.animateScroll.scrollToBottom({smooth:!0,containerId:"chatList",duration:200})}),[e]);var n={};return a.a.createElement(_,{id:"chatList"},Object(u.isLoaded)(e)?a.a.createElement(V,null,e?e.map((function(e){var t=e.key,r=e.value,c=r.user,o=r.text,i=r.timestamp;return c in n||(n[c]=ce({luminosity:"dark",seed:c})),a.a.createElement(re,{key:t,user:c,timestamp:i,color:n[c]},o)})):null):a.a.createElement(Y,null,"\u8aad\u307f\u8fbc\u307f\u4e2d..."))};function ue(){var e=Object(g.a)(["\n  font-size: ",";\n  padding: 1rem;\n  border: solid 1px #999;\n  border-radius: 5px;\n"]);return ue=function(){return e},e}function le(){var e=Object(g.a)(["\n  color: red;\n"]);return le=function(){return e},e}function se(){var e=Object(g.a)(["\n  margin-top: 0;\n  margin-bottom: 1rem;\n"]);return se=function(){return e},e}function me(){var e=Object(g.a)(["\n  height: 100%;\n  margin-top: 2rem;\n  text-align: center;\n"]);return me=function(){return e},e}var fe=E.b.section(me()),be=E.b.h3(se()),de=E.b.div(le()),pe=E.b.input(ue(),"2rem"),he=function(){var e=Object(r.useState)(!1),n=Object(S.a)(e,2),t=n[0],c=n[1],o=Object(r.useRef)(null),u=Object(i.b)();return a.a.createElement(fe,null,a.a.createElement(be,null,"\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),a.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),o.current){var n=o.current.value;if(!n||0===n.length||n.length>30)c(!0);else u({type:"SET_USER",user:n})}}},a.a.createElement("div",{style:{marginBottom:"1rem"}},a.a.createElement(pe,{placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d",autoFocus:!0,ref:o,type:"text"})),t?a.a.createElement(de,null,"1~30\u6587\u5b57\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"):null,a.a.createElement(N,{style:{borderRadius:"5px",marginTop:"1rem"},type:"submit"},a.a.createElement(R.a,{icon:F.b}),"\xa0\u30ed\u30b0\u30a4\u30f3")))};function ve(){var e=Object(g.a)(["\n  background-color: ",";\n  padding: 0 1rem;\n  display: flex;\n  justify-content: space-between;\n  color: ",";\n  h1,\n  div {\n    font-size: ",";\n    margin: 1rem 0;\n  }\n"]);return ve=function(){return e},e}var ge=E.b.header(ve(),"#282c34","white","2rem"),Ee=function(e){var n=e.user;return a.a.createElement(ge,null,a.a.createElement("h1",null,"SlickChat"),n?a.a.createElement("div",null,a.a.createElement(R.a,{icon:F.c}),"\xa0",n):null)},je=function(e){return e.app.user},ye=function(){var e=Object(i.c)(je);return a.a.createElement(k,null,a.a.createElement(Ee,{user:e}),e?a.a.createElement(a.a.Fragment,null,a.a.createElement(ie,null),a.a.createElement(J,null),a.a.createElement(w,null,"Shift+Enter\uff1a\u9001\u4fe1")):a.a.createElement(he,null))};t(389);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,{store:h},a.a.createElement(u.ReactReduxFirebaseProvider,v,a.a.createElement(y,null),a.a.createElement(ye,null)))),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.bc7d1646.chunk.js.map